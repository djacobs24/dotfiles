#!/bin/bash

function weather() {
  # Current location
  city=beavercreek
  state=oh

  if [ "$1" != "" ] && [ "$2" != "" ]; then
    # Specified a city and state
    open https://www.wunderground.com/hourly/us/$2/$1?cm_ven=localwx_hour
  elif [ "$1" != "" ]; then
    # Assume we want the current state
    open https://www.wunderground.com/hourly/us/$state/$1?cm_ven=localwx_hour
  else
    # Assume we want the current city and state
    open https://www.wunderground.com/hourly/us/$state/$city?cm_ven=localwx_hour
  fi
}

# Kubectl port forwarding
function kfwd() {
  if [ "$1" = "mongo" ]; then
    kubectl -n platform port-forward svc/mongodb 27017
  elif [ "$1" = "rabbit" ]; then
    kubectl -n platform port-forward svc/rabbitmq 15672
  elif [ "$1" = "api" ]; then
    kubectl -n platform port-forward svc/service-api 8080
  fi
}

function setupMinikube() {
  cddv && pwd && minikube start && eval $(minikube docker-env) && kubens && kubens platform && kubens && kubectl apply -f $REPOS/github.com/TangramFlex/devops/resources
}
